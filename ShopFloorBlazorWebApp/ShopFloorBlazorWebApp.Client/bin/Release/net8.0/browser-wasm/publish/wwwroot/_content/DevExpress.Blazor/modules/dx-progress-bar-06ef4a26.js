import{_ as t}from"./_tslib-6e8ca86b.js";import{S as e}from"./single-slot-element-base-3afabaf0.js";import{s}from"./enumConverter-6047c3ff.js";import{C as i}from"./css-classes-cee8476c.js";import{x as r}from"./lit-element-462e7ad3.js";import{n as o}from"./property-4ec0b52d.js";import{e as a}from"./custom-element-267f9a21.js";import"./data-qa-utils-8be7c726.js";import"./const-90026e45.js";import"./dx-ui-element-dd33ec67.js";import"./lit-element-base-29f49d31.js";import"./dx-license-1f911fcd.js";import"./logicaltreehelper-7b19cc30.js";import"./layouthelper-0c7c89da.js";import"./point-e4ec110e.js";import"./constants-791d6f9b.js";class l{}l.ProgressBar=i.Prefix+"-progress-bar",l.ProgressCircularBar=i.Prefix+"-progress-circular-bar",l.ProgressCircularBarTrack=l.ProgressCircularBar+"-track",l.ProgressCircularBarIndicator=l.ProgressCircularBar+"-indicator";var h;!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical",t[t.Circular=2]="Circular"}(h||(h={}));let c=class extends e{constructor(){super(...arguments),this.value=null,this.visible=!1,this.type=null,this.size=null,this.thickness=null,this.indeterminate=!1,this.emptyOffset=!1,this.thicknessPixel=null}get radius(){return this.thicknessPixel?50-this.thicknessPixel/2:50}get isVertical(){return this.type===h.Vertical}get isHorizontal(){return this.type===h.Horizontal}get isCircular(){return this.type===h.Circular}get offset(){return this.emptyOffset?0:this.indeterminate?.7*this.circumference:this.circumference*(100-this.value)/100}get circumference(){return Math.round(2*Math.PI*this.radius)}connectedCallback(){super.connectedCallback(),this.updateSize(),this.style.visibility="visible"}render(){return r`
            <style>
                :host {
                    --dxbl-progress-bar-indicator-width: ${this.isHorizontal?this.value+"%":"100%"};
                    --dxbl-progress-bar-indicator-height: ${this.isVertical?this.value+"%":"100%"};
                }
            </style>
            <slot></slot>
        `}updated(t){super.updated(t),t.has("visible")&&(this.style.display=this.visible?"":"none"),t.has("type")&&this.updateType(),t.has("thickness")&&this.updateThickness(),(t.has("value")||t.has("indeterminate")||t.has("emptyOffset"))&&this.isCircular&&this.updateCircularValue(),(t.has("size")||t.has("type"))&&this.updateSize()}updateSize(){this.style.width=this.isHorizontal||this.isCircular?this.size:"",this.style.height=this.isVertical||this.isCircular?this.size:"",this.style.setProperty("--dxbl-progress-bar-width",this.style.width),this.style.setProperty("--dxbl-progress-bar-height",this.style.height)}updateType(){this.isCircular&&this.updateThickness()}updateThickness(){this.style.setProperty("--dxbl-progress-bar-thickness",this.thickness),this.isCircular&&(this.thicknessPixel=this.convertToPixels(this.thickness),this.updateCircularValue())}updateCircularValue(){if(!this.isCircular||!this.thicknessPixel)return;const t=this.querySelector(`.${l.ProgressCircularBarTrack}`),e=this.querySelector(`.${l.ProgressCircularBarIndicator}`);t.setAttribute("r",this.radius.toString()),e.setAttribute("r",this.radius.toString()),e.setAttribute("stroke-dasharray",this.circumference.toFixed(2)),e.setAttribute("stroke-dashoffset",this.offset.toFixed(2))}convertToPixels(t){const e=document.createElement("div");e.style.fontSize="1rem",e.style.position="absolute",e.style.visibility="hidden",e.style.width=t,document.body.appendChild(e);const s=e.offsetWidth;return document.body.removeChild(e),s}};t([o()],c.prototype,"value",void 0),t([o({type:Boolean})],c.prototype,"visible",void 0),t([o({type:h,converter:s(h)})],c.prototype,"type",void 0),t([o()],c.prototype,"size",void 0),t([o()],c.prototype,"thickness",void 0),t([o({type:Boolean})],c.prototype,"indeterminate",void 0),t([o({attribute:"empty-offset",type:Boolean})],c.prototype,"emptyOffset",void 0),c=t([a("dxbl-progress-bar")],c);export{c as DxProgressBar};
