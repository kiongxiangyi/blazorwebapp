import{g as e}from"./dom-utils-dfeed069.js";const t="dx-theme-marker",a="generic.light",r=`.${t} { font-family: "dx.${a}"; }`;class n{constructor(){this._dxtThemeMarkerLoaded=!1,this._customThemesCache={}}static getInstance(){return n.instance||(n.instance=new n),n.instance}async initializeWidget(e,t,a){return new(await this.getWidgetClass(t))(e,a)}async registerCustomTheme(e){if(!e)return;const t=e.name,r=JSON.stringify(e);if(this._customThemesCache[t]!==r){(await this.getVizModule()).registerTheme(e,a),this._customThemesCache[t]=r}}ensureDxtThemeMarkerExists(){if(this._dxtThemeMarkerLoaded||(this._dxtThemeMarkerLoaded=this.checkDxtThemeMarkerExists()),this._dxtThemeMarkerLoaded)return;const t=e();t&&(t.insertRule(r),this._dxtThemeMarkerLoaded=!0)}checkDxtThemeMarkerExists(){const e=document.createElement("div");e.className=t,window.document.body.appendChild(e);const a=window.getComputedStyle(e).fontFamily;return e.remove(),a.indexOf("dx.")>-1}async getVizModule(){const e=await this.ensureDxtModulesLoaded();return null==e?void 0:e.viz}async ensureDxtModulesLoaded(){var e;return null!==(e=this._dxtModule)&&void 0!==e||(this._dxtModule=await this.loadDxtModules()),this._dxtModule}async loadDxtModules(){const e=await import("./devexpress-394524a9.js");return this.ensureDxtThemeMarkerExists(),e}async getWidgetClass(e){const t=await this.getVizModule();return t[e]||await t[`${e}Loader`]()}}const s={dxBarGauge:"barGauge",dxBullet:"bullet",dxChart:"chart",dxFunnel:"funnel",dxCircularGauge:"gauge",dxLinearGauge:"gauge",dxVectorMap:"map",dxPieChart:"pie",dxPolarChart:"polar",dxRangeSelector:"rangeSelector",dxSankey:"sankey",dxSparklin:"sparkline",dxTreeMap:"treeMap"};function i(e,t,a,r){const n=s[t];if(!e||!n||!a)return null;null!=r||(r=`dx-${n}-blazor-theme`);const i=function(e,t){const a={},r=window.getComputedStyle(t);for(const[t,n]of Object.entries(e)){const e=r.getPropertyValue(n);if(!e)continue;d(t.split("."),e,a)}return a}(e,a);return Object.keys(i).length>0?{name:r,[n]:i}:null}function d(e,t,a){e.reduce(((a,r,n)=>{var s;return n===e.length-1?a[r]=t:null!==(s=a[r])&&void 0!==s?s:a[r]={}}),a)}export{n as W,i as g};
